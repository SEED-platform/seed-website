

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation on OSX &mdash; SEED Platform 2.20.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation using Docker" href="setup_docker.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> SEED Platform
          

          
          </a>

          
            
            
              <div class="version">
                2.20.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="getting_started.html">Getting Started</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="getting_started.html#development-setup">Development Setup</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Installation on OSX</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#quick-installation-instructions">Quick Installation Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#postgresql-11-1">PostgreSQL 11.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#postgis-2-5">PostGIS 2.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timescaledb-1-5-0">TimescaleDB 1.5.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-packages">Python Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nodejs-npm">NodeJS/npm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configure-django-and-databases">Configure Django and Databases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mapquest-api-key">MapQuest API Key</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-django-migrations">Run Django Migrations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#django-admin-user">Django Admin User</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-redis">Install Redis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-javascript-dependencies">Install JavaScript Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-the-server">Start the Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#login">Login</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="setup_docker.html">Installation using Docker</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_quality.html">Data Quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapping.html">Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="matching.html">Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_resources.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SEED Platform</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="getting_started.html">Getting Started</a> &raquo;</li>
        
      <li>Installation on OSX</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="installation-on-osx">
<h1>Installation on OSX<a class="headerlink" href="#installation-on-osx" title="Permalink to this headline">¶</a></h1>
<p>These instructions are for installing and running SEED on Mac OSX in
development mode.</p>
<section id="quick-installation-instructions">
<h2>Quick Installation Instructions<a class="headerlink" href="#quick-installation-instructions" title="Permalink to this headline">¶</a></h2>
<p>This section is intended for developers who may already have their machine
ready for general development. If this is not the case, skip to Prerequisites.  Note that SEED uses python 3.</p>
<ul class="simple">
<li><p>install Postgres 11.1 and redis for cache and message broker</p></li>
<li><p>install PostGIS 2.5 and enable it on the database using <cite>CREATE EXTENSION postgis;</cite></p></li>
<li><p>install TimescaleDB 1.5.0</p></li>
<li><p>use a virtualenv (if desired)</p></li>
<li><p><cite>git clone git&#64;github.com:seed-platform/seed.git</cite></p></li>
<li><p>create a <cite>local_untracked.py</cite> in the <cite>config/settings</cite> folder and add CACHE and DB config (example <cite>local_untracked.py.dist</cite>)</p></li>
<li><p>to enable geocoding, get MapQuest API key and attach it to your organization</p></li>
<li><p><cite>export DJANGO_SETTINGS_MODULE=config.settings.dev</cite> in all terminals used by SEED (celery terminal and runserver terminal)</p></li>
<li><dl class="simple">
<dt><cite>pip install -r requirements/local.txt</cite></dt><dd><ul>
<li><p>for condas python, you way need to run this command to get pip install to succeed: <cite>conda install -c conda-forge python-crfsuite</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><p>npm install</p></li>
<li><p><cite>./manage.py migrate</cite></p></li>
<li><p><cite>./manage.py create_default_user</cite></p></li>
<li><p><cite>./manage.py runserver</cite></p></li>
<li><p><cite>DJANGO_SETTINGS_MODULE=config.settings.dev celery -A seed worker -l INFO -c 4 –max-tasks-per-child 1000 -EBS django_celery_beat.schedulers:DatabaseScheduler</cite></p></li>
<li><p>navigate to <cite>http://127.0.0.1:8000/app/#/profile/admin</cite> in your browser to add users to organizations</p></li>
<li><p>main app runs at <cite>127.0.0.1:8000/app</cite></p></li>
</ul>
<p>The <cite>python manage.py create_default_user</cite> will setup a default <cite>superuser</cite>
which must be used to access the system the first time. The management command
can also create other superusers.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./manage.py create_default_user --username=demo@seed-platform.org --organization=lbl --password=demo123</span>
</pre></div>
</div>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>These instructions assume you have <a class="reference external" href="https://www.macports.org/">MacPorts</a> or <a class="reference external" href="http://brew.sh/">Homebrew</a>. Your system
should have the following dependencies already installed:</p>
<ul>
<li><p>git (<cite>port install git</cite> or <cite>brew install git</cite>)</p></li>
<li><p>graphviz (<cite>brew install graphviz</cite>)</p></li>
<li><p><a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a> (Recommended)</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although you <em>could</em> install Python packages globally, this is the
easiest way to install Python packages. Setting these up first will
help avoid polluting your base Python installation and make it much
easier to switch between different versions of the code.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>pyenv
brew<span class="w"> </span>install<span class="w"> </span>pyenv-virtualenv
pyenv<span class="w"> </span>install<span class="w"> </span>&lt;python3<span class="w"> </span>version<span class="w"> </span>you<span class="w"> </span>want&gt;
pyenv<span class="w"> </span>virtualenv<span class="w"> </span>&lt;python3<span class="w"> </span>version<span class="w"> </span>you<span class="w"> </span>want&gt;<span class="w"> </span>seed
pyenv<span class="w"> </span><span class="nb">local</span><span class="w"> </span>seed
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="postgresql-11-1">
<h2>PostgreSQL 11.1<a class="headerlink" href="#postgresql-11-1" title="Permalink to this headline">¶</a></h2>
<p>MacPorts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>sudo su - root
port install postgresql94-server postgresql94 postgresql94-doc
# init db
mkdir -p /opt/local/var/db/postgresql94/defaultdb
chown postgres:postgres /opt/local/var/db/postgresql94/defaultdb
su postgres -c &#39;/opt/local/lib/postgresql94/bin/initdb -D /opt/local/var/db/postgresql94/defaultdb&#39;

# At this point, you may want to add start/stop scripts or aliases to
# ~/.bashrc or your virtualenv ``postactivate`` script
# (in ``~/.virtualenvs/{env-name}/bin/postactivate``).

alias pg_start=&#39;sudo su postgres -c &quot;/opt/local/lib/postgresql94/bin/pg_ctl \
    -D /opt/local/var/db/postgresql94/defaultdb \
    -l /opt/local/var/db/postgresql94/defaultdb/postgresql.log start&quot;&#39;
alias pg_stop=&#39;sudo su postgres -c &quot;/opt/local/lib/postgresql94/bin/pg_ctl \
    -D /opt/local/var/db/postgresql94/defaultdb stop&quot;&#39;

pg_start

sudo su - postgres
PATH=$PATH:/opt/local/lib/postgresql94/bin/
</pre></div>
</div>
<p>Homebrew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">postgres</span>
<span class="c1"># follow the post install instructions to add to launchagents or call</span>
<span class="c1"># manually with `postgres -D /usr/local/var/postgres`</span>
<span class="c1"># Skip the remaining Postgres instructions!</span>
</pre></div>
</div>
<p>Configure PostgreSQL. Replace ‘seeddb’, ‘seeduser’ with desired db/user. By
default use password <cite>seedpass</cite> when prompted. Use the code block below in development only since
the seeduser is a SUPERUSER.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createuser<span class="w"> </span>-P<span class="w"> </span>seeduser
createdb<span class="w"> </span><span class="sb">`</span>whoami<span class="sb">`</span>
psql<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;CREATE DATABASE &quot;seeddb&quot; WITH OWNER = &quot;seeduser&quot;;&#39;</span>
psql<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;GRANT ALL PRIVILEGES ON DATABASE &quot;seeddb&quot; TO seeduser;&#39;</span>
psql<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;ALTER ROLE seeduser SUPERUSER;&#39;</span>
</pre></div>
</div>
</section>
<section id="postgis-2-5">
<h2>PostGIS 2.5<a class="headerlink" href="#postgis-2-5" title="Permalink to this headline">¶</a></h2>
<p>MacPorts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming you&#39;re still root from installing PostgreSQL,</span>
<span class="n">port</span> <span class="n">install</span> <span class="n">postgis2</span>
</pre></div>
</div>
<p>Homebrew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">postgis</span>
</pre></div>
</div>
<p>Configure PostGIS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">psql</span> <span class="o">-</span><span class="n">d</span> <span class="n">seeddb</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;CREATE EXTENSION postgis;&quot;</span>

<span class="c1"># For testing, give seed user superuser access:</span>
<span class="c1"># psql -c &#39;ALTER USER seeduser CREATEDB;&#39;</span>
</pre></div>
</div>
<p>If upgrading from an existing database or existing local_untracked.py file, make sure to add the
MapQuest API Key and set the database engine to ‘ENGINE’: ‘django.contrib.gis.db.backends.postgis’.</p>
<p>Now exit any root environments, becoming just yourself (even though it’s not
that easy being green), for the remainder of these instructions.</p>
</section>
<section id="timescaledb-1-5-0">
<h2>TimescaleDB 1.5.0<a class="headerlink" href="#timescaledb-1-5-0" title="Permalink to this headline">¶</a></h2>
<p>Note, as of version 1.5.0, dumping and restoring databases requires that both the source and target
database have the same version of TimescaleDB.</p>
<p>Downloading From Source:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note: Installing from source should only be done</span>
<span class="c1"># if you have a Postgres installation not maintained by Homebrew.</span>
<span class="c1"># This installation requires C compiler (e.g., gcc or clang) and CMake version 3.4 or greater.</span>

<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">timescale</span><span class="o">/</span><span class="n">timescaledb</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">timescaledb</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="mf">1.5.0</span>

<span class="c1"># Bootstrap the build system</span>
<span class="o">./</span><span class="n">bootstrap</span>

<span class="c1"># If OpenSSL can&#39;t be found by cmake - run the following instead</span>
<span class="c1"># ./bootstrap -DOPENSSL_ROOT_DIR=&lt;location of OpenSSL&gt; # e.g., -DOPENSSL_ROOT_DIR=/usr/local/opt/openssl</span>

<span class="c1"># To build the extension</span>
<span class="n">cd</span> <span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">make</span>

<span class="c1"># To install</span>
<span class="n">make</span> <span class="n">install</span>

<span class="c1"># Find postgresql.conf</span>
<span class="c1"># Then uncomment the shared_preload_libraries line changing it to the following</span>
<span class="c1"># shared_preload_libraries = &#39;timescaledb&#39;</span>
<span class="n">psql</span> <span class="o">-</span><span class="n">d</span> <span class="n">postgres</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;SHOW config_file;&quot;</span>

<span class="c1"># Restart PostgreSQL instance</span>
</pre></div>
</div>
</section>
<section id="python-packages">
<h2>Python Packages<a class="headerlink" href="#python-packages" title="Permalink to this headline">¶</a></h2>
<p>Run these commands as your normal user id.</p>
<p>Change to a virtualenv (using virtualenvwrapper) or do the following as a
superuser. A virtualenv is usually better for development. Set the virtualenv
to seed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>workon<span class="w"> </span>seed
</pre></div>
</div>
<p>Make sure PostgreSQL command line scripts are in your PATH (if using MacPorts)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/opt/local/lib/postgresql94/bin
</pre></div>
</div>
<p>Some packages (uWSGI) may need to find your C compiler. Make sure you have
‘gcc’ on your system, and then also export this to the <cite>CC</cite> environment
variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">CC</span><span class="o">=</span>gcc
</pre></div>
</div>
<p>Install requirements with <cite>pip</cite></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements/local.txt
</pre></div>
</div>
</section>
<section id="nodejs-npm">
<h2>NodeJS/npm<a class="headerlink" href="#nodejs-npm" title="Permalink to this headline">¶</a></h2>
<p>Install <a class="reference external" href="https://www.npmjs.com/">npm</a>. You can do this by installing from <a class="reference external" href="http://nodejs.org/">nodejs.org</a>, MacPorts, or
Homebrew:</p>
<p>MacPorts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">npm</span>
</pre></div>
</div>
<p>Homebrew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">npm</span>
</pre></div>
</div>
</section>
<section id="configure-django-and-databases">
<h2>Configure Django and Databases<a class="headerlink" href="#configure-django-and-databases" title="Permalink to this headline">¶</a></h2>
<p>In the <cite>config/settings</cite> directory, there must be a file called
<cite>local_untracked.py</cite> that sets up databases and a number of other things.
To create and edit this file, start by copying over the template</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>config/settings
cp<span class="w"> </span>local_untracked.py.dist<span class="w"> </span>local_untracked.py
</pre></div>
</div>
<p>Edit <cite>local_untracked.py</cite>. Open the file you created in your favorite editor. The PostgreSQL config section will look something like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># postgres DB config</span>
<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.contrib.gis.db.backends.postgis&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;seeddb&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;seeduser&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;seedpass&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="s1">&#39;5432&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You may want to comment out the AWS settings.</p>
<p>For Redis, edit the <cite>CACHES</cite> and <cite>CELERY_BROKER_URL</cite> values to look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CACHES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;redis_cache.cache.RedisCache&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LOCATION&#39;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1:6379&quot;</span><span class="p">,</span>
        <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;DB&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="s1">&#39;TIMEOUT&#39;</span><span class="p">:</span> <span class="mi">300</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">CELERY_BROKER_URL</span> <span class="o">=</span> <span class="s1">&#39;redis://127.0.0.1:6379/1&#39;</span>
</pre></div>
</div>
</section>
<section id="mapquest-api-key">
<h2>MapQuest API Key<a class="headerlink" href="#mapquest-api-key" title="Permalink to this headline">¶</a></h2>
<p>Register for a MapQuest API key:
<a class="reference external" href="https://developer.mapquest.com/plan_purchase/steps/business_edition/business_edition_free/register">https://developer.mapquest.com/plan_purchase/steps/business_edition/business_edition_free/register</a></p>
<p>Visit the Manage Keys page:
<a class="reference external" href="https://developer.mapquest.com/user/me/apps">https://developer.mapquest.com/user/me/apps</a>
Either create a new key or use the key initially provided.
Copy the “Consumer Key” into the target organizations MapQuest API Key field under the organization’s settings page or directly within the DB.</p>
</section>
<section id="run-django-migrations">
<h2>Run Django Migrations<a class="headerlink" href="#run-django-migrations" title="Permalink to this headline">¶</a></h2>
<p>Change back to the root of the repository. Now run the migration script to set
up the database tables</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">DJANGO_SETTINGS_MODULE</span><span class="o">=</span>config.settings.dev
./manage.py<span class="w"> </span>migrate
</pre></div>
</div>
</section>
<section id="django-admin-user">
<h2>Django Admin User<a class="headerlink" href="#django-admin-user" title="Permalink to this headline">¶</a></h2>
<p>You need a Django admin (super) user.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./manage.py<span class="w"> </span>create_default_user<span class="w"> </span>--username<span class="o">=</span>admin@my.org<span class="w"> </span>--organization<span class="o">=</span>seedorg<span class="w"> </span>--password<span class="o">=</span>badpass
</pre></div>
</div>
<p>Of course, you need to save this user/password somewhere, since this is what
you will use to login to the SEED website.</p>
<p>If you want to do any API testing (and of course you do!), you will need to
add an API KEY for this user. You can do this in postgresql directly:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psql<span class="w"> </span>seeddb<span class="w"> </span>seeduser
<span class="nv">seeddb</span><span class="o">=</span>&gt;<span class="w"> </span>update<span class="w"> </span>landing_seeduser<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="nv">api_key</span><span class="o">=</span><span class="s1">&#39;DEADBEEF&#39;</span><span class="w"> </span>where<span class="w"> </span><span class="nv">id</span><span class="o">=</span><span class="m">1</span><span class="p">;</span>
</pre></div>
</div>
<p>The ‘secret’ key DEADBEEF is hard-coded into the test scripts.</p>
</section>
<section id="install-redis">
<h2>Install Redis<a class="headerlink" href="#install-redis" title="Permalink to this headline">¶</a></h2>
<p>You need to manually install Redis for Celery to work.</p>
<p>MacPorts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">redis</span>
</pre></div>
</div>
<p>Homebrew:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">redis</span>
<span class="c1"># follow the post install instructions to add to launchagents or</span>
<span class="c1"># call manually with `redis-server`</span>
</pre></div>
</div>
</section>
<section id="install-javascript-dependencies">
<h2>Install JavaScript Dependencies<a class="headerlink" href="#install-javascript-dependencies" title="Permalink to this headline">¶</a></h2>
<p>The JS dependencies are installed using node.js package management (npm).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install
</pre></div>
</div>
</section>
<section id="start-the-server">
<h2>Start the Server<a class="headerlink" href="#start-the-server" title="Permalink to this headline">¶</a></h2>
<p>You should put the following statement in ~/.bashrc or add it to the
virtualenv post-activation script (e.g., in
<cite>~/.virtualenvs/seed/bin/postactivate</cite>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">DJANGO_SETTINGS_MODULE</span><span class="o">=</span>config.settings.dev
</pre></div>
</div>
<p>The combination of Redis, Celery, and Django have been encapsulated in a
single shell script, which examines existing processes and does not start
duplicate instances:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./bin/start-seed.sh
</pre></div>
</div>
<p>When this script is done, the Django stand-alone server will be running in
the foreground.</p>
</section>
<section id="login">
<h2>Login<a class="headerlink" href="#login" title="Permalink to this headline">¶</a></h2>
<p>Open your browser and navigate to <a class="reference external" href="http://127.0.0.1:8000">http://127.0.0.1:8000</a></p>
<p>Login with the user/password you created before, e.g., <cite>admin&#64;my.org</cite> and
<cite>badpass</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>these steps have been combined into a script called <cite>start-seed.sh</cite>.
The script will also not start Celery or Redis if they already seem
to be running.</p>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="setup_docker.html" class="btn btn-neutral float-right" title="Installation using Docker" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, 2023, Alliance for Sustainable Energy, LLC, and other contributors.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>